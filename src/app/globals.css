@import "tailwindcss";

/* Only hide navigation when reading interface is in fullscreen mode */
body:has(.netflix-reading-container.fullscreen-mode) header[class*="sticky top-0 z-50"] {
	visibility: hidden !important;
	z-index: -1 !important;
}

/* Ensure reading container has solid background only in fullscreen */
.netflix-reading-container.fullscreen-mode {
	background-color: black !important;
}

:root {
	/* PrimaryReading Brand Colors */
	--education-blue: #4a90e2;
	--sunshine-yellow: #f5d547;
	--forest-green: #7ed321;
	--soft-purple: #bd10e0;
	--coral-orange: #ff6b6b;
	--sky-blue: #87ceeb;

	/* Neutral Colors */
	--background: #f8f9fa;
	--foreground: #2c3e50;
	--muted: #6c757d;
	--border: #e9ecef;
	--card: #ffffff;

	/* Semantic Colors */
	--primary: var(--education-blue);
	--secondary: var(--sunshine-yellow);
	--success: var(--forest-green);
	--warning: #ff9500;
	--error: var(--coral-orange);

	/* Typography */
	--font-sans: Inter, system-ui, -apple-system, BlinkMacSystemFont,
		"Segoe UI", sans-serif;
	--font-reading: Georgia, "Times New Roman", serif;
}

@theme inline {
	--color-primary: var(--primary);
	--color-secondary: var(--secondary);
	--color-success: var(--success);
	--color-warning: var(--warning);
	--color-error: var(--error);
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-muted: var(--muted);
	--color-border: var(--border);
	--color-card: var(--card);
	--font-sans: var(--font-sans);
	--font-reading: var(--font-reading);

	/* Radius for child-friendly rounded corners */
	--radius: 12px;
}

html,
body {
	background: var(--background);
	color: var(--foreground);
	font-family: var(--font-sans);
	line-height: 1.6;
	overflow-x: hidden; /* Prevent horizontal scrollbars */
	max-width: 100vw; /* Ensure content doesn't exceed viewport width */
	box-sizing: border-box;
}

/* Prevent scrollbars in reading interface */
body:has(.netflix-reading-container:not(.fullscreen-mode)) {
	height: 100vh;
	max-height: 100vh;
	overflow: hidden;
}

/* Adjust layout wrapper height for reading pages */
body:has(.netflix-reading-container:not(.fullscreen-mode)) .flex.min-h-screen {
	min-height: calc(100vh - 0px); /* Remove min-height requirement */
	height: 100vh;
	max-height: 100vh;
}

*,
*::before,
*::after {
	box-sizing: border-box;
}

/* Child-friendly styles */
.reading-text {
	font-family: var(--font-reading);
	font-size: 1.125rem;
	line-height: 1.8;
	letter-spacing: 0.025em;
}

/* Ensure all story sections look consistent */
.reading-text * {
	font-family: var(--font-reading) !important;
	font-weight: 400 !important;
	color: var(--foreground) !important;
	font-size: 1.125rem !important;
	text-align: left !important;
}

/* Netflix-style reading interface styles */
.netflix-reading-container {
	font-family: var(--font-sans);
}

.netflix-reading-container .reading-text {
	font-family: var(--font-reading);
	line-height: 1.8;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
	color: white !important;
}

/* Ensure all text elements are white in Netflix interface */
.netflix-reading-container .reading-text * {
	color: white !important;
	font-family: var(--font-reading) !important;
	text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7) !important;
}

/* Override any color classes to ensure white text */
.netflix-reading-container .text-white {
	color: white !important;
}

.netflix-reading-container .text-white\/95 {
	color: rgba(255, 255, 255, 0.95) !important;
}

.netflix-reading-container .text-white\/90 {
	color: rgba(255, 255, 255, 0.90) !important;
}

.netflix-reading-container .text-white\/80 {
	color: rgba(255, 255, 255, 0.80) !important;
}

.netflix-text-container {
	animation: fadeInUp 0.6s ease-out;
	transition: all 0.3s ease-in-out;
}

.netflix-text-container:hover {
	transform: translateY(-2px);
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

/* Smooth background transitions */
.netflix-reading-container .absolute.inset-0 > div[style*="background-image"] {
	transition: opacity 1000ms ease-in-out, transform 1000ms ease-in-out;
}

/* Enhanced button styling for Netflix theme */
.netflix-reading-container button {
	transition: all 0.2s ease-in-out;
	backdrop-filter: blur(8px);
}

.netflix-reading-container button:hover {
	transform: translateY(-1px);
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Progress bar styling */
.netflix-reading-container .bg-white.h-2 {
	box-shadow: 0 2px 8px rgba(255, 255, 255, 0.3);
}

/* Reading tip animation */
.netflix-reading-container .bg-black\/60 {
	animation: fadeInUp 0.8s ease-out 0.5s both;
}

/* Responsive text sizing */
@media (max-width: 640px) {
	.netflix-text-container {
		padding: 1.5rem;
		margin: 0 1rem;
	}
	
	.netflix-reading-container .text-lg {
		font-size: 1rem !important;
	}
	
	.netflix-reading-container .text-xl {
		font-size: 1.125rem !important;
	}
	
	.netflix-reading-container .text-3xl {
		font-size: 1.5rem !important;
	}
	
	.netflix-reading-container .text-4xl {
		font-size: 2rem !important;
	}
}

/* Animation keyframes */
@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Mobile-specific optimizations */
.netflix-reading-container {
	/* Ensure proper mobile viewport handling */
	width: 100vw;
	height: 100vh;
	min-height: 100vh;
	min-height: 100dvh; /* Use dynamic viewport height on supported browsers */
	overflow-x: hidden;
}

.netflix-text-container {
	/* Better text rendering on mobile */
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-rendering: optimizeReadability;
	
	/* Ensure text container is properly sized on mobile */
	min-height: 120px;
	max-height: 70vh;
	overflow-y: auto;
}

/* Mobile-first touch targets */
.mobile-touch-target {
	min-height: 44px !important;
	min-width: 44px !important;
	touch-action: manipulation;
}

/* Enhanced text readability on mobile */
.reading-text {
	line-height: 1.7;
	word-spacing: 0.1em;
	letter-spacing: 0.01em;
}

/* Safe area handling for devices with notches */
.pb-safe {
	padding-bottom: env(safe-area-inset-bottom);
}

.pt-safe {
	padding-top: env(safe-area-inset-top);
}

/* Better focus indicators for accessibility */
.focus-visible:focus-visible {
	outline: 2px solid var(--education-blue);
	outline-offset: 2px;
}

/* Prevent text selection on UI controls */
.select-none-ui {
	-webkit-user-select: none;
	-moz-user-select: none;
	user-select: none;
}

/* Improve tap response */
.tap-highlight-none {
	-webkit-tap-highlight-color: transparent;
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
	.netflix-reading-container * {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	.netflix-reading-container .bg-black\/50 {
		background-color: rgba(0, 0, 0, 0.9);
		border: 2px solid white;
	}
	
	.netflix-reading-container .text-white\/95 {
		color: white !important;
	}
	
	.netflix-reading-container .text-white\/80 {
		color: white !important;
	}
}
